<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>dataset 속성</title>
</head>
<body>
    

    <h3># dataset attribute</h3>
    <ul>
        <li>HTML의 속성에 데이터를 정의하고 자바스크립트에서 읽는 방식</li>
        <li>HTML에서 자바스크립트로 데이터를 전달하고 싶은 경우에 사용한다.</li>
    </ul>


    <div id="rect" style="width:100px;height:100px;border:solid 3px black;
            margin-bottom: 20px;"></div>

    <!-- data-* 뒤에 원하는 변수명을 설정하여 자바스크립트에서 접근해 사용 가능-->
    <button data-size="25px" data-bg-color="red">개나리버튼</button>
    <button data-size="4cm" data-bg-color="purple">잔디색</button>
    <button data-size="1in" data-bg-color="orange">환타(오렌지)</button>
    <button data-size="10vw" data-bg-color="teal">제로콜라</button>
    <button data-size="15vh" data-bg-color="silver">옥수수맛</button>
    <!--근데 이런 것들이 옛날 익스플로러에서 적용 안 됨-->
    <!--회전 어쩌고 만들 때도 dataset에 저장해놓으면 편하것지 (그럼 외부에서 data-set에 어떻게 값을 넣지? )-->

    <script>

        //colorBtns에 버튼이 다섯 개 들어 있음
        const colorBtns = document.querySelectorAll('[data-bg-color]'); //*[data-bg-color] 앞에 * 생략 가능 
        //data-bg-color이 들어간 어쩌고를 가져와라
        const rect = document.getElementById('rect');

        function colorChangeEvent(e) {
            //console.log('방금 이벤트의 정보: ');
            //console.log(e);      
            //console.dir(e.target);// 방금 눌린 버튼에 대한 정보가 들어 있음
            
            //e.target : 방금 이벤트를 발생시킨 요소가 들어 있다.
            const btn = e.target;
            const dataset = e.target.dataset;

            //data- 뒤의 이름으로 데이터를 꺼내올 수 있다.
            console.log('data-bg-color : ', btn.dataset.bgColor);

            rect.style.backgroundColor = dataset.bgColor;
            
            //dataset.size = '1000px'; //데이터속성의 값을 변경하는 법은 걍 = 값 해주면 됨
            rect.style.width = dataset.size;   
        }

        //데이터 속성에 대해 더 https://dololak.tistory.com/364 


        //forEach로 colorBtns의 버튼을 하나씩 꺼내며 원하는 작업을 모두 적용한다.
        colorBtns.forEach((btn) => {
            btn.addEventListener('click', colorChangeEvent);
        });
    </script>


</body>
</html>